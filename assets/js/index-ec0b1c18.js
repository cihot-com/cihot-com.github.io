import{y as n,P as t,r,j as e,b as o,d as i}from"./index-d2e29b82.js";var u=0,c=[{id:u++,text:"Todo #1"}],d=[function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r]}],a={addTodo:function(){c=[].concat(n(c),[{id:++u,text:"Todo #"+u}]),f()},removeTodo:function(n){c=n?c.filter((function(t){return t.id!==n})):c.slice(0,-1),f(n)},suffixTodo:function(){c=n(c.sort((function(){return Math.random()<.5?1:-1}))),f()},subscribe:function(t){return d=[].concat(n(d),[t]),function(){d=d.filter((function(n){return n!==t}))}},getSnapshot:function(){return c}};function f(){var n,r=t(d);try{for(r.s();!(n=r.n()).done;){n.value.apply(void 0,arguments)}}catch(e){r.e(e)}finally{r.f()}}var l=function(){return r.useSyncExternalStore(a.subscribe,a.getSnapshot)};function s(){var n=l();return e("figure",{className:"todos",children:[o("button",{onClick:function(){return a.addTodo()},children:"Add"}),o("button",{onClick:function(){return a.removeTodo()},children:"Remove"}),o("button",{onClick:function(){return a.suffixTodo()},children:"Suffix"}),o("hr",{}),o("ul",{children:n.map((function(n){return o("li",{children:n.text},n.id)}))})]})}function h(){var n=l();return o("figure",{className:"view",children:o("ul",{children:n.map((function(n){return e("li",{children:[n.text," ",o("button",{onClick:function(){a.removeTodo(n.id)},children:"Remove"})]},n.id)}))})})}function m(){return e(v,{children:[o("h1",{children:"SyncStore"}),o(s,{}),o(h,{})]})}var v=i("section",{target:"e7dum050"})({name:"2r9u76",styles:"figure{display:inline-block;}li{margin:0.5em 0;}button{padding:0 1em;}"});export{m as default};
