import{b as e,j as t}from"./index-8f1f19a3.js";function l(){const[l,a]=e.useState(1e6),[r,n]=e.useState("a"),s=e.useMemo((()=>r.repeat(l)),[l,r]),[o,c]=e.useState(!0),h=e.useCallback((()=>c((e=>!e))),[o]),d=e.useRef(null),i=e.useMemo((()=>{let e=0;for(let t=0;t<localStorage.length;t++){const l=localStorage.key(t),a=localStorage.getItem(l??"")??"";a&&(e+=a.length)}return e}),[h]);return t.jsxs("section",{children:[t.jsx("h3",{children:"Local Storage"}),t.jsxs("label",{children:["repeat:"," ",t.jsx("input",{type:"number",value:l,min:1,onChange:e=>{a(Number(e.target.value))}})]}),t.jsxs("label",{children:["text:"," ",t.jsx("input",{type:"text",value:r,onChange:e=>n(e.target.value)})]}),t.jsx("button",{onClick:()=>{localStorage.setItem("k-"+Date.now()+Math.random(),s),h()},children:"add"}),t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"key"}),t.jsxs("th",{children:["value lanegth ",i]}),t.jsx("th",{})]})}),t.jsx("tbody",{ref:d,children:Object.keys(localStorage).map((e=>{var l;return t.jsxs("tr",{children:[t.jsx("td",{children:e}),t.jsx("td",{children:null==(l=localStorage.getItem(e))?void 0:l.length}),t.jsx("td",{children:t.jsx("button",{onClick:()=>{localStorage.removeItem(e),h()},children:"remove"})})]},e)}))})]})]})}export{l as default};
