import{r as e}from"./index-d2e29b82.js";import{f as r,n,u as t,m as a,i as o}from"./motion-f39b5207.js";import{b as u,a as i}from"./use-transform-f2526fd8.js";const s=e.createContext(null);function l(e){return e.value}function c(e,r){return e.layout.min-r.layout.min}function f(e,r=0){return o(e)?e:i(r)}const m={Group:e.forwardRef((function({children:o,as:u="ul",axis:i="y",onReorder:f,values:m,...d},x){const y=t((()=>a(u))),g=[],p=e.useRef(!1),v={axis:i,registerItem:(e,r)=>{r&&-1===g.findIndex((r=>e===r.value))&&(g.push({value:e,layout:r[i]}),g.sort(c))},updateOrder:(e,t,a)=>{if(p.current)return;const o=function(e,t,a,o){if(!o)return e;const u=e.findIndex((e=>e.value===t));if(-1===u)return e;const i=o>0?1:-1,s=e[u+i];if(!s)return e;const l=e[u],c=s.layout,f=r(c.min,c.max,.5);return 1===i&&l.layout.max+a>f||-1===i&&l.layout.min+a<f?n(e,u,u+i):e}(g,e,t,a);g!==o&&(p.current=!0,f(o.map(l).filter((e=>-1!==m.indexOf(e)))))}};return e.useEffect((()=>{p.current=!1})),e.createElement(y,{...d,ref:x,ignoreStrict:!0},e.createElement(s.Provider,{value:v},o))})),Item:e.forwardRef((function({children:r,style:n={},value:o,as:i="li",onDrag:l,layout:c=!0,...m},d){const x=t((()=>a(i))),y=e.useContext(s),g={x:f(n.x),y:f(n.y)},p=u([g.x,g.y],(([e,r])=>e||r?1:"unset")),v=e.useRef(null),{axis:b,registerItem:h,updateOrder:C}=y;return e.useEffect((()=>{h(o,v.current)}),[y]),e.createElement(x,{drag:b,...m,dragSnapToOrigin:!0,style:{...n,x:g.x,y:g.y,zIndex:p},layout:c,onDrag:(e,r)=>{const{velocity:n}=r;n[b]&&C(o,g[b].get(),n[b]),l&&l(e,r)},onLayoutMeasure:e=>{v.current=e},ref:d,ignoreStrict:!0},r)}))};var d=[{icon:"🍅",label:"Tomato"},{icon:"🥬",label:"Lettuce"},{icon:"🧀",label:"Cheese"},{icon:"🥕",label:"Carrot"},{icon:"🍌",label:"Banana"},{icon:"🫐",label:"Blueberries"},{icon:"🥂",label:"Champers?"}],x=[d[0],d[1],d[2]];function y(e){var r=new Set(e);return d.find((function(e){return!r.has(e)}))}export{m as R,d as a,y as g,x as i};
