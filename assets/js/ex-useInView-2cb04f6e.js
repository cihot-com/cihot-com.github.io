import{b as e,j as r}from"./index-890d70c3.js";import{R as n}from"./ex.styled-4273ff5a.js";import{u as t}from"./use-animate-e426ebc3.js";import{r as s}from"./resolve-element-6bcb316e.js";import"./SVGVisualElement-77214677.js";import"./index-7074372a.js";import"./use-unmount-effect-807b54ef.js";import"./animate-af04a6e3.js";const o={some:0,all:1};function i(r,{root:n,margin:t,amount:i,once:c=!1}={}){const[l,a]=e.useState(!1);return e.useEffect((()=>{if(!r.current||c&&l)return;const e={root:n&&n.current||void 0,margin:t,amount:i};return function(e,r,{root:n,margin:t,amount:i="some"}={}){const c=s(e),l=new WeakMap,a=new IntersectionObserver((e=>{e.forEach((e=>{const n=l.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const n=r(e);"function"==typeof n?l.set(e.target,n):a.unobserve(e.target)}else n&&(n(e),l.delete(e.target))}))}),{root:n,rootMargin:t,threshold:"number"==typeof i?i:o[i]});return c.forEach((e=>a.observe(e))),()=>a.disconnect()}(r.current,(()=>(a(!0),c?void 0:()=>a(!1))),e)}),[n,r,t,c]),l}function c(){const s=e.useRef(null),o=e.useRef(null),[c,l]=t(),a=i(c,{margin:"-49px"});return e.useEffect((()=>{}),[a]),r.jsxs(n,{ref:s,children:[r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsx("div",{className:"block"}),r.jsxs("div",{ref:o,children:[r.jsx("button",{onClick:()=>c.current.remove(),children:"remove"}),r.jsx("button",{onClick:()=>{var e;return null==(e=s.current)?void 0:e.appendChild(c.current)},children:"add"}),r.jsx("button",{onClick:()=>{var e;null==(e=o.current)||e.insertAdjacentElement("beforebegin",c.current)},children:"beforebegin"})]}),r.jsxs("ul",{ref:c,children:[r.jsx("li",{children:"1"}),r.jsx("li",{children:"2"}),r.jsx("li",{children:"3"})]})]})}export{c as default};
