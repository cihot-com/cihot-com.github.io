import{r as e}from"./index-fd32b983.js";import{m as r}from"./motion-7eb3bcc0.js";import{b as t,c as n,u as a,i as o}from"./SVGVisualElement-41b90df8.js";import{u}from"./transform-94095f86.js";import{a as i}from"./use-transform-31b631a0.js";const s=e.createContext(null);function l(e){return e.value}function c(e,r){return e.layout.min-r.layout.min}function f(e,r=0){return o(e)?e:u(r)}const m={Group:e.forwardRef((function({children:o,as:u="ul",axis:i="y",onReorder:f,values:m,...d},x){const y=a((()=>r(u))),p=[],g=e.useRef(!1),v={axis:i,registerItem:(e,r)=>{r&&-1===p.findIndex((r=>e===r.value))&&(p.push({value:e,layout:r[i]}),p.sort(c))},updateOrder:(e,r,a)=>{if(g.current)return;const o=function(e,r,a,o){if(!o)return e;const u=e.findIndex((e=>e.value===r));if(-1===u)return e;const i=o>0?1:-1,s=e[u+i];if(!s)return e;const l=e[u],c=s.layout,f=t(c.min,c.max,.5);return 1===i&&l.layout.max+a>f||-1===i&&l.layout.min+a<f?n(e,u,u+i):e}(p,e,r,a);p!==o&&(g.current=!0,f(o.map(l).filter((e=>-1!==m.indexOf(e)))))}};return e.useEffect((()=>{g.current=!1})),e.createElement(y,{...d,ref:x,ignoreStrict:!0},e.createElement(s.Provider,{value:v},o))})),Item:e.forwardRef((function({children:t,style:n={},value:o,as:u="li",onDrag:l,layout:c=!0,...m},d){const x=a((()=>r(u))),y=e.useContext(s),p={x:f(n.x),y:f(n.y)},g=i([p.x,p.y],(([e,r])=>e||r?1:"unset")),v=e.useRef(null),{axis:b,registerItem:R,updateOrder:h}=y;return e.useEffect((()=>{R(o,v.current)}),[y]),e.createElement(x,{drag:b,...m,dragSnapToOrigin:!0,style:{...n,x:p.x,y:p.y,zIndex:g},layout:c,onDrag:(e,r)=>{const{velocity:t}=r;t[b]&&h(o,p[b].get(),t[b]),l&&l(e,r)},onLayoutMeasure:e=>{v.current=e},ref:d,ignoreStrict:!0},t)}))};var d=[{icon:"🍅",label:"Tomato"},{icon:"🥬",label:"Lettuce"},{icon:"🧀",label:"Cheese"},{icon:"🥕",label:"Carrot"},{icon:"🍌",label:"Banana"},{icon:"🫐",label:"Blueberries"},{icon:"🥂",label:"Champers?"}],x=[d[0],d[1],d[2]];function y(e){var r=new Set(e);return d.find((function(e){return!r.has(e)}))}export{m as R,d as a,y as g,x as i};
